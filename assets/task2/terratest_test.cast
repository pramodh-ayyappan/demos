{"version": 2, "width": 205, "height": 53, "timestamp": 1692556123, "env": {"SHELL": "/bin/zsh", "TERM": "xterm-256color"}}
[0.023404, "o", "Welcome to fish, the friendly interactive shell\r\nType \u001b[32mhelp\u001b(B\u001b[m for instructions on how to use fish\r\n"]
[0.025507, "o", "\u001b[?2004h"]
[0.038661, "o", "\u001b]0;~/d/w/r/f/c/m/1/a/test\u0007\u001b[30m\u001b(B\u001b[m\r\u001b[K\r\n\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;88;88;88m·····················································································································\u001b[K\r\n\u001b(B\u001b[m \u001b[K\r\u001b[C"]
[0.334281, "o", "\u001b]0;~/d/w/r/f/c/m/1/a/test\u0007\u001b[30m\u001b(B\u001b[m\r"]
[0.334412, "o", "\u001b[A\u001b[A\u001b[K\r\n\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m~/dev/work/repos/\u001b[1m\u001b[38;2;0;175;255mfacets-iac\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m/capillary-cloud-tf/modules/1_input_instance/\u001b[1m\u001b[38;2;0;175;255malert_group_loki\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m/\u001b[1m\u001b[38;2;0;175;255mtest\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[37m\u001b[38;2;95;215;0mfeat_loki_alert\u001b[38;2;255;0;0m\u001b[38;2;95;215;0m\u001b[38;2;95;215;0m *1\u001b[38;2;255;0;0m\u001b[38;2;215;175;0m\u001b[38;2;215;175;0m !4\u001b[38;2;0;175;255m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;88;88;88m····················································\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;237;139;0m .\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;172;215m 1.20.6\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;50;108;229m⎈ gcp-infra-dev-context\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;95;215;0m❯\u001b(B\u001b[m \u001b[K\r\u001b[C\u001b[C"]
[0.934046, "o", "asciinema rec\r\u001b[15C"]
[0.934296, "o", "\u001b[13D\u001b[34masciinema\u001b[30m\u001b(B\u001b[m \u001b[36mrec\r\u001b[15C\u001b[30m\u001b(B\u001b[m"]
[1.389314, "o", "\u001b[13Dgo test -v -run AlertGroupLoki\r\u001b[32C"]
[1.390011, "o", "\u001b[30D\u001b[34mgo\u001b[30m\u001b(B\u001b[m \u001b[36mtest\u001b[30m\u001b(B\u001b[m \u001b[36m-v\u001b[30m\u001b(B\u001b[m \u001b[36m-run\u001b[30m\u001b(B\u001b[m \u001b[36mAlertGroupLoki\r\u001b[32C\u001b[30m\u001b(B\u001b[m"]
[2.233159, "o", "\r\u001b[32C\r\n"]
[2.233247, "o", "\u001b[30m\u001b(B\u001b[m"]
[2.233625, "o", "\u001b[?2004l"]
[2.235356, "o", "\u001b]0;go test -v -run Aler ~/d/w/r/f/c/m/1/a/test\u0007\u001b[30m\u001b(B\u001b[m\r"]
[4.012181, "o", "=== RUN   TestAlertGroupLoki\r\n=== PAUSE TestAlertGroupLoki\r\n=== CONT  TestAlertGroupLoki\r\n"]
[4.013123, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 retry.go:91: terraform [init -upgrade=false]\r\n"]
[4.013266, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: Running command terraform with args [init -upgrade=false]\r\n"]
[4.039251, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[0m\u001b[1mInitializing the backend...\u001b[0m\r\n"]
[4.106093, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[0m\u001b[1mInitializing modules...\u001b[0m\r\n"]
[4.10835, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[0m\u001b[1mInitializing provider plugins...\u001b[0m\r\n"]
[4.108369, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: - Reusing previous version of hashicorp/kubernetes from the dependency lock file\r\n"]
[4.160463, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: - Reusing previous version of hashicorp/helm from the dependency lock file\r\n"]
[4.215589, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: - Using previously-installed hashicorp/kubernetes v2.23.0\r\n"]
[4.246308, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: - Using previously-installed hashicorp/helm v2.10.1\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[0m\u001b[1m\u001b[32mTerraform has been successfully initialized!\u001b[0m\u001b[32m\u001b[0m\r\n"]
[4.246396, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[0m\u001b[32m\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: You may now begin working with Terraform. Try running \"terraform plan\" to see\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: any changes that are required for your infrastructure. All Terraform commands\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: should now work.\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: If you ever set or change modules or backend configuration for Terraform,\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: rerun this command to reinitialize your working directory. If you forget, other\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: commands will detect it and remind you to do so if necessary.\u001b[0m\r\n"]
[4.247472, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 retry.go:91: terraform [apply -input=false -auto-approve -var instance_name=test-alert-group-loki -var environment={\"namespace\" = \"default\", \"unique_name\" = \"k8s\"} -var instance={\"kind\":\"alert_group\",\"flavor\":\"loki\",\"version\":\"0.1\",\"lifecycle\":\"ENVIRONMENT\",\"disabled\":false,\"provided\":false,\"depends_on\":[],\"metadata\":{\"name\":\"\"},\"spec\":{\"rules\":{\"HighPercentageError\":{\"disabled\":false,\"expr\":\"sum(rate({app=\\\"foo\\\", env=\\\"production\\\"} |= \\\"error\\\" [5m])) by (job) / sum(rate({app=\\\"foo\\\", env=\\\"production\\\"}[5m])) by (job) \\u003e 0.05\",\"for\":\"2m\",\"labels\":{\"severity\":\"critical\",\"team\":\"infra\"},\"message\":\"High request latency\",\"resource_name\":\"{{ $labels.app}}\",\"resource_type\":\"app\",\"summary\":\"High request latency for {{ $labels.app }}\"},\"TestAlert\":{\"disabled\":false,\"expr\":\"sum(rate({app=\\\"loki\\\"} | logfmt | level=\\\"info\\\"[1m])) by (container) \\u003e 0\",\"for\":\"1m\",\"labels\":{\"severity\":\"warning\",\"team\":\"infra\"},\"message\":\"Loki warning per minute rate \\u003e 0 contain"]
[4.247507, "o", "er: {{ $labels.container }}\",\"resource_name\":\"{{ $labels.app}}\",\"resource_type\":\"app\",\"summary\":\"Loki info warning per minute rate \\u003e 0\"}}},\"advanced\":{},\"out\":{}} -lock=false]\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: Running command terraform with args [apply -input=false -auto-approve -var instance_name=test-alert-group-loki -var environment={\"namespace\" = \"default\", \"unique_name\" = \"k8s\"} -var instance={\"kind\":\"alert_group\",\"flavor\":\"loki\",\"version\":\"0.1\",\"lifecycle\":\"ENVIRONMENT\",\"disabled\":false,\"provided\":false,\"depends_on\":[],\"metadata\":{\"name\":\"\"},\"spec\":{\"rules\":{\"HighPercentageError\":{\"disabled\":false,\"expr\":\"sum(rate({app=\\\"foo\\\", env=\\\"production\\\"} |= \\\"error\\\" [5m])) by (job) / sum(rate({app=\\\"foo\\\", env=\\\"production\\\"}[5m])) by (job) \\u003e 0.05\",\"for\":\"2m\",\"labels\":{\"severity\":\"critical\",\"team\":\"infra\"},\"message\":\"High request latency\",\"resource_name\":\"{{ $labels.app}}\",\"resource_type\":\"app\",\"summary\":\"High request latency for {{ $labels.app }}\"},\"TestAlert\":{\"disabled\":"]
[4.247718, "o", "false,\"expr\":\"sum(rate({app=\\\"loki\\\"} | logfmt | level=\\\"info\\\"[1m])) by (container) \\u003e 0\",\"for\":\"1m\",\"labels\":{\"severity\":\"warning\",\"team\":\"infra\"},\"message\":\"Loki warning per minute rate \\u003e 0 container: {{ $labels.container }}\",\"resource_name\":\"{{ $labels.app}}\",\"resource_type\":\"app\",\"summary\":\"Loki info warning per minute rate \\u003e 0\"}}},\"advanced\":{},\"out\":{}} -lock=false]\r\n"]
[4.52743, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: Terraform used the selected providers to generate the following execution\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: plan. Resource actions are indicated with the following symbols:\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:   \u001b[32m+\u001b[0m create\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \r\n"]
[4.527465, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: Terraform will perform the following actions:\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[1m  # module.loki_alert_config_map.helm_release.k8s-resource\u001b[0m will be created\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"helm_release\" \"k8s-resource\" {\r\n"]
[4.527493, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m atomic                     = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m chart                      = \"../../3_utility/any-k8s-resource/dynamic-k8s-resource-0.1.0.tgz\"\r\n"]
[4.527662, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m cleanup_on_fail            = true\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m create_namespace           = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m dependency_update          = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m disable_crd_hooks          = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m disable_openapi_validation = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m disable_webhooks           = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m force_update               = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m id                         = (known after apply)\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m lin"]
[4.527787, "o", "t                       = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m manifest                   = (known after apply)\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m max_history                = 0\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m metadata                   = (known after apply)\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m name                       = \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m namespace                  = \"facets\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m pass_credentials           = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m recreate_pods              = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m render_subchart_notes      = true\r\nTestAle"]
[4.527855, "o", "rtGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m replace                    = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m reset_values               = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m reuse_values               = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m skip_crds                  = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m status                     = \"deployed\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m timeout                    = 300\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m values                     = [\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:           \u001b[32m+\u001b[0m\u001b[0m <<-EOT\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                 \"resource\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+0"]
[4.527915, "o", "5:30 logger.go:66:                   \"apiVersion\": \"v1\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                   \"data\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                     \"loki-alerts-test-alert-group-loki.yaml\": |\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                       \"groups\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                       - \"name\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                         \"rules\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                         - \"alert\": \"HighPercentageError\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                           \"annotations\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"message\": \"High request latency\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"summary\": \"High "]
[4.528003, "o", "request latency for {{ $labels.app }}\"\r\n"]
[4.52808, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                           \"expr\": \"sum(rate({app=\\\"foo\\\", env=\\\"production\\\"} |= \\\"error\\\" [5m])) by (job)\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             / sum(rate({app=\\\"foo\\\", env=\\\"production\\\"}[5m])) by (job) > 0.05\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                           \"for\": \"2m\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                           \"labels\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"resource_name\": \"{{ $labels.app}}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"resource_type\": \"app\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"severity\": \"critical\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"team\": \"infra\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66"]
[4.528153, "o", ":                         - \"alert\": \"TestAlert\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                           \"annotations\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"message\": \"Loki warning per minute rate > 0 container: {{ $labels.container\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                               }}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"summary\": \"Loki info warning per minute rate > 0\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                           \"expr\": \"sum(rate({app=\\\"loki\\\"} | logfmt | level=\\\"info\\\"[1m])) by (container)\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             > 0\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                           \"for\": \"1m\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                           \"labels\":\r\nTestAlertGroupLoki 202"]
[4.528244, "o", "3-08-20T23:58:47+05:30 logger.go:66:                             \"resource_name\": \"{{ $labels.app}}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"resource_type\": \"app\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"severity\": \"warning\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                             \"team\": \"infra\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                   \"kind\": \"ConfigMap\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                   \"metadata\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                     \"name\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                     \"namespace\": \"facets\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:             EOT,\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:           \u001b[32m+\u001b[0m\u001b[0m <<-EOT\r\nTestAlertGroup"]
[4.528355, "o", "Loki 2023-08-20T23:58:47+05:30 logger.go:66:                 \"resource\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                   \"metadata\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                     \"labels\":\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                       \"resourceName\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                       \"resourceType\": \"k8s_resource\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                     \"name\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:                     \"namespace\": \"facets\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:             EOT,\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:         ]\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m verify                     = false\r\nTestAlertGroupLoki 2023-08-20T23:5"]
[4.528398, "o", "8:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m version                    = \"0.1.0\"\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m wait                       = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:       \u001b[32m+\u001b[0m\u001b[0m wait_for_jobs              = false\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:     }\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[1mPlan:\u001b[0m 1 to add, 0 to change, 0 to destroy.\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: Changes to Outputs:\r\nTestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66:   \u001b[32m+\u001b[0m\u001b[0m configmap_name = \"loki-alerts-test-alert-group-loki\"\r\n"]
[4.567823, "o", "TestAlertGroupLoki 2023-08-20T23:58:47+05:30 logger.go:66: \u001b[0m\u001b[1mmodule.loki_alert_config_map.helm_release.k8s-resource: Creating...\u001b[0m\u001b[0m\r\n"]
[5.525527, "o", "TestAlertGroupLoki 2023-08-20T23:58:48+05:30 logger.go:66: \u001b[0m\u001b[1mmodule.loki_alert_config_map.helm_release.k8s-resource: Creation complete after 1s [id=loki-alerts-test-alert-group-loki]\u001b[0m\r\n"]
[5.542096, "o", "TestAlertGroupLoki 2023-08-20T23:58:48+05:30 logger.go:66: \u001b[0m\u001b[1m\u001b[32m\r\nTestAlertGroupLoki 2023-08-20T23:58:48+05:30 logger.go:66: Apply complete! Resources: 1 added, 0 changed, 0 destroyed.\r\nTestAlertGroupLoki 2023-08-20T23:58:48+05:30 logger.go:66: \u001b[0m\u001b[0m\u001b[1m\u001b[32m\r\nTestAlertGroupLoki 2023-08-20T23:58:48+05:30 logger.go:66: Outputs:\r\nTestAlertGroupLoki 2023-08-20T23:58:48+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:48+05:30 logger.go:66: \u001b[0mconfigmap_name = \"loki-alerts-test-alert-group-loki\"\r\n"]
[5.544081, "o", "TestAlertGroupLoki 2023-08-20T23:58:48+05:30 retry.go:91: terraform [output -no-color -json configmap_name]\r\nTestAlertGroupLoki 2023-08-20T23:58:48+05:30 logger.go:66: Running command terraform with args [output -no-color -json configmap_name]\r\n"]
[5.648974, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \"loki-alerts-test-alert-group-loki\"\r\n"]
[5.649543, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 retry.go:91: Wait for configmap loki-alerts-test-alert-group-loki to be provisioned.\r\n"]
[5.649596, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 client.go:42: Configuring Kubernetes client using config file /Users/pramodhayyappan/dev/work/kubeconfigs/gcp-infra-dev-kubeconfig with context \r\n"]
[5.751583, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 configmap.go:53: configmap is now available\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 client.go:42: Configuring Kubernetes client using config file /Users/pramodhayyappan/dev/work/kubeconfigs/gcp-infra-dev-kubeconfig with context \r\n"]
[5.788912, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 retry.go:91: terraform [destroy -auto-approve -input=false -var instance={\"kind\":\"alert_group\",\"flavor\":\"loki\",\"version\":\"0.1\",\"lifecycle\":\"ENVIRONMENT\",\"disabled\":false,\"provided\":false,\"depends_on\":[],\"metadata\":{\"name\":\"\"},\"spec\":{\"rules\":{\"HighPercentageError\":{\"disabled\":false,\"expr\":\"sum(rate({app=\\\"foo\\\", env=\\\"production\\\"} |= \\\"error\\\" [5m])) by (job) / sum(rate({app=\\\"foo\\\", env=\\\"production\\\"}[5m])) by (job) \\u003e 0.05\",\"for\":\"2m\",\"labels\":{\"severity\":\"critical\",\"team\":\"infra\"},\"message\":\"High request latency\",\"resource_name\":\"{{ $labels.app}}\",\"resource_type\":\"app\",\"summary\":\"High request latency for {{ $labels.app }}\"},\"TestAlert\":{\"disabled\":false,\"expr\":\"sum(rate({app=\\\"loki\\\"} | logfmt | level=\\\"info\\\"[1m])) by (container) \\u003e 0\",\"for\":\"1m\",\"labels\":{\"severity\":\"warning\",\"team\":\"infra\"},\"message\":\"Loki warning per minute rate \\u003e 0 container: {{ $labels.container }}\",\"resource_name\":\"{{ $labels.app}}\",\"resource_type\":\"app\",\"summary\":\"Loki inf"]
[5.789027, "o", "o warning per minute rate \\u003e 0\"}}},\"advanced\":{},\"out\":{}} -var instance_name=test-alert-group-loki -var environment={\"namespace\" = \"default\", \"unique_name\" = \"k8s\"} -lock=false]\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: Running command terraform with args [destroy -auto-approve -input=false -var instance={\"kind\":\"alert_group\",\"flavor\":\"loki\",\"version\":\"0.1\",\"lifecycle\":\"ENVIRONMENT\",\"disabled\":false,\"provided\":false,\"depends_on\":[],\"metadata\":{\"name\":\"\"},\"spec\":{\"rules\":{\"HighPercentageError\":{\"disabled\":false,\"expr\":\"sum(rate({app=\\\"foo\\\", env=\\\"production\\\"} |= \\\"error\\\" [5m])) by (job) / sum(rate({app=\\\"foo\\\", env=\\\"production\\\"}[5m])) by (job) \\u003e 0.05\",\"for\":\"2m\",\"labels\":{\"severity\":\"critical\",\"team\":\"infra\"},\"message\":\"High request latency\",\"resource_name\":\"{{ $labels.app}}\",\"resource_type\":\"app\",\"summary\":\"High request latency for {{ $labels.app }}\"},\"TestAlert\":{\"disabled\":false,\"expr\":\"sum(rate({app=\\\"loki\\\"} | logfmt | level=\\\"info\\\"[1m])) by (container) \\u003e 0\",\"for\":\"1"]
[5.78906, "o", "m\",\"labels\":{\"severity\":\"warning\",\"team\":\"infra\"},\"message\":\"Loki warning per minute rate \\u003e 0 container: {{ $labels.container }}\",\"resource_name\":\"{{ $labels.app}}\",\"resource_type\":\"app\",\"summary\":\"Loki info warning per minute rate \\u003e 0\"}}},\"advanced\":{},\"out\":{}} -var instance_name=test-alert-group-loki -var environment={\"namespace\" = \"default\", \"unique_name\" = \"k8s\"} -lock=false]\r\n"]
[6.063833, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \u001b[0m\u001b[1mmodule.loki_alert_config_map.helm_release.k8s-resource: Refreshing state... [id=loki-alerts-test-alert-group-loki]\u001b[0m\r\n"]
[6.328535, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: Terraform used the selected providers to generate the following execution\r\n"]
[6.328568, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: plan. Resource actions are indicated with the following symbols:\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:   \u001b[31m-\u001b[0m destroy\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: Terraform will perform the following actions:\r\n"]
[6.3288, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \r\n"]
[6.329043, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \u001b[1m  # module.loki_alert_config_map.helm_release.k8s-resource\u001b[0m will be \u001b[1m\u001b[31mdestroyed\u001b[0m\r\n"]
[6.329233, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \u001b[0m  \u001b[31m-\u001b[0m\u001b[0m resource \"helm_release\" \"k8s-resource\" {\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m atomic                     = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m chart                      = \"../../3_utility/any-k8s-resource/dynamic-k8s-resource-0.1.0.tgz\" \u001b[90m-> null\u001b[0m\u001b[0m\r\n"]
[6.329337, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m cleanup_on_fail            = true \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m create_namespace           = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m dependency_update          = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m disable_crd_hooks          = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m disable_openapi_validation = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m disable_webhooks           = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m force_update               = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b"]
[6.329353, "o", "[31m-\u001b[0m\u001b[0m id                         = \"loki-alerts-test-alert-group-loki\" \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m lint                       = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m max_history                = 0 \u001b[90m-> null\u001b[0m\u001b[0m\r\n"]
[6.329916, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m metadata                   = [\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:           \u001b[31m-\u001b[0m\u001b[0m {\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:               \u001b[31m-\u001b[0m\u001b[0m app_version = \"1.16.0\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:               \u001b[31m-\u001b[0m\u001b[0m chart       = \"dynamic-k8s-resource\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:               \u001b[31m-\u001b[0m\u001b[0m name        = \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:               \u001b[31m-\u001b[0m\u001b[0m namespace   = \"facets\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:               \u001b[31m-\u001b[0m\u001b[0m revision    = 1\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:               \u001b[31m-\u001b[0m\u001b[0m values      = jsonencode(\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                     {\r\n"]
[6.330072, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                       \u001b[31m-\u001b[0m\u001b[0m resource = {\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \u001b[31m-\u001b[0m\u001b[0m apiVersion = \"v1\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \u001b[31m-\u001b[0m\u001b[0m data       = {\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                               \u001b[31m-\u001b[0m\u001b[0m \"loki-alerts-test-alert-group-loki.yaml\" = <<-EOT\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                     \"groups\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                     - \"name\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                       \"rules\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                       - \"alert\": \"HighPercentageError\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49"]
[6.330207, "o", "+05:30 logger.go:66:                                         \"annotations\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"message\": \"High request latency\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"summary\": \"High request latency for {{ $labels.app }}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                         \"expr\": \"sum(rate({app=\\\"foo\\\", env=\\\"production\\\"} |= \\\"error\\\" [5m])) by (job)\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           / sum(rate({app=\\\"foo\\\", env=\\\"production\\\"}[5m])) by (job) > 0.05\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                         \"for\": \"2m\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                         \"labels\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                      "]
[6.330358, "o", "                     \"resource_name\": \"{{ $labels.app}}\"\r\n"]
[6.330376, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"resource_type\": \"app\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"severity\": \"critical\"\r\n"]
[6.330381, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"team\": \"infra\"\r\n"]
[6.330519, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                       - \"alert\": \"TestAlert\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                         \"annotations\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"message\": \"Loki warning per minute rate > 0 container: {{ $labels.container\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                             }}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"summary\": \"Loki info warning per minute rate > 0\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                         \"expr\": \"sum(rate({app=\\\"loki\\\"} | logfmt | level=\\\"info\\\"[1m])) by (container)\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           > 0\"\r\n"]
[6.330687, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                         \"for\": \"1m\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                         \"labels\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"resource_name\": \"{{ $labels.app}}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"resource_type\": \"app\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"severity\": \"warning\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                           \"team\": \"infra\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                 EOT\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             }\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \u001b[31m-\u001b[0m\u001b[0m kind       "]
[6.330781, "o", "= \"ConfigMap\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \u001b[31m-\u001b[0m\u001b[0m metadata   = {\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                               \u001b[31m-\u001b[0m\u001b[0m labels    = {\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                   \u001b[31m-\u001b[0m\u001b[0m resourceName = \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                   \u001b[31m-\u001b[0m\u001b[0m resourceType = \"k8s_resource\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                                 }\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                               \u001b[31m-\u001b[0m\u001b[0m name      = \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                               \u001b[31m-\u001b[0m\u001b[0m namespace = \"facets\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             }\r\nTestAlertGro"]
[6.330934, "o", "upLoki 2023-08-20T23:58:49+05:30 logger.go:66:                         }\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                     }\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                 )\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:               \u001b[31m-\u001b[0m\u001b[0m version     = \"0.1.0\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:             },\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:         ] \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m name                       = \"loki-alerts-test-alert-group-loki\" \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m namespace                  = \"facets\" \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m pass_credentials           = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31"]
[6.331091, "o", "m-\u001b[0m\u001b[0m recreate_pods              = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m render_subchart_notes      = true \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m replace                    = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m reset_values               = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m reuse_values               = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m skip_crds                  = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m status                     = \"deployed\" \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m timeout                    = 300 \u001b[90m-> null\u001b[0m\u001b"]
[6.331179, "o", "[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m values                     = [\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:           \u001b[31m-\u001b[0m\u001b[0m <<-EOT\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                 \"resource\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                   \"apiVersion\": \"v1\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                   \"data\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                     \"loki-alerts-test-alert-group-loki.yaml\": |\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                       \"groups\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                       - \"name\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                         \"rules\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                         - \"alert\": \"HighPercenta"]
[6.331281, "o", "geError\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \"annotations\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"message\": \"High request latency\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"summary\": \"High request latency for {{ $labels.app }}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \"expr\": \"sum(rate({app=\\\"foo\\\", env=\\\"production\\\"} |= \\\"error\\\" [5m])) by (job)\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             / sum(rate({app=\\\"foo\\\", env=\\\"production\\\"}[5m])) by (job) > 0.05\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \"for\": \"2m\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \"labels\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"resource_name\": \"{{ $labels.app}}\"\r\nTestAl"]
[6.331348, "o", "ertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"resource_type\": \"app\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"severity\": \"critical\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"team\": \"infra\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                         - \"alert\": \"TestAlert\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \"annotations\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"message\": \"Loki warning per minute rate > 0 container: {{ $labels.container\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                               }}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"summary\": \"Loki info warning per minute rate > 0\"\r\n"]
[6.33148, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \"expr\": \"sum(rate({app=\\\"loki\\\"} | logfmt | level=\\\"info\\\"[1m])) by (container)\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             > 0\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \"for\": \"1m\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                           \"labels\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"resource_name\": \"{{ $labels.app}}\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"resource_type\": \"app\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"severity\": \"warning\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                             \"team\": \"infra\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                   \"kind\": \"ConfigMap\"\r\nTestAlertGroupLoki 2023-"]
[6.331566, "o", "08-20T23:58:49+05:30 logger.go:66:                   \"metadata\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                     \"name\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                     \"namespace\": \"facets\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:             EOT,\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:           \u001b[31m-\u001b[0m\u001b[0m <<-EOT\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                 \"resource\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                   \"metadata\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                     \"labels\":\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                       \"resourceName\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                       \"resourceType\": \"k8s_resource\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 log"]
[6.33166, "o", "ger.go:66:                     \"name\": \"loki-alerts-test-alert-group-loki\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:                     \"namespace\": \"facets\"\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:             EOT,\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:         ] \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m verify                     = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m version                    = \"0.1.0\" \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m wait                       = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:       \u001b[31m-\u001b[0m\u001b[0m wait_for_jobs              = false \u001b[90m-> null\u001b[0m\u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:     }\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \r\nT"]
[6.33172, "o", "estAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \u001b[1mPlan:\u001b[0m 0 to add, 0 to change, 1 to destroy.\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \u001b[0m\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: Changes to Outputs:\r\nTestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66:   \u001b[31m-\u001b[0m\u001b[0m configmap_name = \"loki-alerts-test-alert-group-loki\" \u001b[90m-> null\u001b[0m\u001b[0m\r\n"]
[6.366303, "o", "TestAlertGroupLoki 2023-08-20T23:58:49+05:30 logger.go:66: \u001b[0m\u001b[1mmodule.loki_alert_config_map.helm_release.k8s-resource: Destroying... [id=loki-alerts-test-alert-group-loki]\u001b[0m\u001b[0m\r\n"]
[6.893851, "o", "TestAlertGroupLoki 2023-08-20T23:58:50+05:30 logger.go:66: \u001b[0m\u001b[1mmodule.loki_alert_config_map.helm_release.k8s-resource: Destruction complete after 0s\u001b[0m\r\n"]
[6.908558, "o", "TestAlertGroupLoki 2023-08-20T23:58:50+05:30 logger.go:66: \u001b[0m\u001b[1m\u001b[32m\r\nTestAlertGroupLoki 2023-08-20T23:58:50+05:30 logger.go:66: Destroy complete! Resources: 1 destroyed.\r\n"]
[6.910471, "o", "TestAlertGroupLoki 2023-08-20T23:58:50+05:30 logger.go:66: \u001b[0m\r\n"]
[6.910671, "o", "--- PASS: TestAlertGroupLoki (2.90s)\r\n"]
[6.910693, "o", "PASS\r\n"]
[6.912186, "o", "ok  \tfacets-iac/capillary-cloud-tf/modules/1_input_instance/alert_group_loki/test\t3.238s\r\n"]
[6.985389, "o", "\u001b[2m⏎\u001b(B\u001b[m                                                                                                                                                                                                            \r⏎ \r\u001b[K"]
[6.985484, "o", "\u001b[?2004h"]
[6.989963, "o", "\u001b]0;~/d/w/r/f/c/m/1/a/test\u0007\u001b[30m\u001b(B\u001b[m"]
[6.989986, "o", "\r\u001b[K\r\n\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m~/dev/work/repos/\u001b[1m\u001b[38;2;0;175;255mfacets-iac\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m/capillary-cloud-tf/modules/1_input_instance/\u001b[1m\u001b[38;2;0;175;255malert_group_loki\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m/\u001b[1m\u001b[38;2;0;175;255mtest\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[37m\u001b[38;2;95;215;0mfeat_loki_alert\u001b[38;2;255;0;0m\u001b[38;2;95;215;0m\u001b[38;2;95;215;0m *1\u001b[38;2;255;0;0m\u001b[38;2;215;175;0m\u001b[38;2;215;175;0m !4\u001b[38;2;0;175;255m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;88;88;88m····················································\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;237;139;0m .\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;172;215m 1.20.6\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;50;108;229m⎈ gcp-infra-dev-context\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;95;215;0m❯\u001b(B\u001b[m \u001b[K\r\u001b[C\u001b[C"]
[7.308149, "o", "\u001b]0;~/d/w/r/f/c/m/1/a/test\u0007\u001b[30m\u001b(B\u001b[m\r"]
[7.308292, "o", "\u001b[A\u001b[A\u001b[K\r\n\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m~/dev/work/repos/\u001b[1m\u001b[38;2;0;175;255mfacets-iac\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m/capillary-cloud-tf/modules/1_input_instance/\u001b[1m\u001b[38;2;0;175;255malert_group_loki\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m/\u001b[1m\u001b[38;2;0;175;255mtest\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;135;175m\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[37m\u001b[38;2;95;215;0mfeat_loki_alert\u001b[38;2;255;0;0m\u001b[38;2;95;215;0m\u001b[38;2;95;215;0m *1\u001b[38;2;255;0;0m\u001b[38;2;215;175;0m\u001b[38;2;215;175;0m !4\u001b[38;2;0;175;255m\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;88;88;88m·················································\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;135;135;95m4s\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;237;139;0m .\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;0;172;215m 1.20.6\u001b[38;2;148;148;148m \u001b(B\u001b[m\u001b(B\u001b[m\u001b[38;2;50;108;229m⎈ gcp-infra-dev-context\u001b(B\u001b[m\u001b(B\u001b[m\u001b(B\u001b[m\u001b[K\r\n\u001b[38;2;95;215;0m❯\u001b(B\u001b[m \u001b[K\r\u001b[C\u001b[C"]
[9.20352, "o", "\r\n"]
[9.203768, "o", "\u001b[30m\u001b(B\u001b[m\u001b[30m\u001b(B\u001b[m\u001b[?2004l"]
